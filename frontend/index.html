<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Filterize - AI-Powered Content Analysis & Fact Verification</title>
  <link rel="icon" href="favicon.svg" type="image/svg+xml">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <a class="skip-link" href="#inputText">Skip to content</a>
  <div class="container">
    <header>
      <div class="branding">
        <div class="logo-container">
          <div class="logo-icon" aria-hidden="true" role="img" aria-label="Filterize logo"></div>
          <div class="logo-text-container">
            <div class="logo-text">Filterize</div>
            <div class="header-sub">AI-Powered Content Analysis &amp; Fact Verification</div>
            <div class="credits">Created by Suryansh Jain &amp; Deepesh Kumar</div>
          </div>
        </div>
      </div>
    </header>

    <section class="hero">
      <div class="hero-inner">
        <div class="hero-left">
          <h1 class="hero-title">Filterize ‚Äî Make sense of what you read</h1>
          <p class="hero-sub">Quickly check articles, posts, or headlines for credibility signals. Our lightweight demo combines heuristics with optional AI providers to give an explainable credibility score.</p>
          <div class="hero-cta">
            <button id="openOnboard" class="btn primary">‚ú® Quick tour</button>
            <button id="sampleBtn" class="btn ghost" onclick="fillExample('Breaking: Scientists confirm chocolate cures aging ‚Äî doctors shocked!')">Try sample</button>
          </div>
        </div>
        <div class="hero-right panel">
          <!-- Content Type Selector -->
          <div class="content-type-selector">
            <button id="textTab" class="tab-btn active" onclick="switchContentType('text')">üìù Text</button>
            <button id="imageTab" class="tab-btn" onclick="switchContentType('image')">üñºÔ∏è Image</button>
            <button id="videoTab" class="tab-btn" onclick="switchContentType('video')">üé• Video</button>
            <button id="urlTab" class="tab-btn" onclick="switchContentType('url')">üîó Link</button>
            <button id="fact-checkTab" class="tab-btn" onclick="switchContentType('fact-check')">üîç Fact Check</button>
            <button id="multi-aiTab" class="tab-btn" onclick="switchContentType('multi-ai')">ü§ñ Multi-AI</button>
          </div>
          
          <!-- Text Analysis Panel -->
          <div id="textPanel" class="content-panel active">
            <label for="inputText" class="hidden">Content to analyze</label>
            <textarea id="inputText" aria-label="Content to analyze" placeholder="Paste article, headline, or content here..."></textarea>
          </div>
          
          <!-- Image Analysis Panel -->
          <div id="imagePanel" class="content-panel hidden">
            <div class="upload-area" id="imageUploadArea">
              <div class="upload-icon">üñºÔ∏è</div>
              <div class="upload-text">
                <strong>Click to upload an image</strong> or drag and drop
                <div class="upload-hint">Supports JPG, PNG, GIF, WebP (max 10MB)</div>
              </div>
              <input type="file" id="imageInput" accept="image/*" style="display: none;">
            </div>
            <div id="imagePreview" class="image-preview hidden"></div>
          </div>
          
          <!-- Video Analysis Panel -->
          <div id="videoPanel" class="content-panel hidden">
            <div class="upload-area" id="videoUploadArea">
              <div class="upload-icon">üé•</div>
              <div class="upload-text">
                <strong>Click to upload a video</strong> or drag and drop
                <div class="upload-hint">Supports MP4, WebM, AVI (max 50MB)</div>
              </div>
              <input type="file" id="videoInput" accept="video/*" style="display: none;">
            </div>
            <div id="videoPreview" class="video-preview hidden"></div>
          </div>
          
          <!-- URL Analysis Panel -->
          <div id="urlPanel" class="content-panel hidden">
            <input type="url" id="urlInput" placeholder="Enter URL to analyze (e.g., https://example.com/article)" class="url-input">
            <div class="url-hint">We'll analyze the content from this webpage for AI generation indicators</div>
          </div>
          
          <!-- Fact-Check Panel -->
          <div id="fact-checkPanel" class="content-panel hidden">
            <textarea id="factCheckText" placeholder="Enter content for comprehensive fact-checking analysis..." class="fact-check-textarea"></textarea>
            <div class="fact-check-options">
              <label>
                <input type="checkbox" id="deepFactCheck" checked> Deep fact verification
              </label>
              <label>
                <input type="checkbox" id="sourceValidation" checked> Source validation  
              </label>
              <label>
                <input type="checkbox" id="claimExtraction" checked> Extract verifiable claims
              </label>
            </div>
            <div class="fact-check-hint">Advanced AI-powered fact-checking with multiple verification sources</div>
          </div>
          
          <!-- Multi-AI Analysis Panel -->
          <div id="multi-aiPanel" class="content-panel hidden">
            <textarea id="multiAiText" placeholder="Enter content for multi-AI analysis..." class="multi-ai-textarea"></textarea>
            <div class="multi-ai-controls">
              <div class="provider-selection">
                <label for="providerSelect">AI Provider:</label>
                <select id="providerSelect">
                  <option value="">Auto (Smart Routing)</option>
                  <option value="openai">OpenAI (GPT-4)</option>
                  <option value="anthropic">Anthropic (Claude)</option>
                  <option value="gemini">Google (Gemini)</option>
                  <option value="specialized">Built-in Algorithms</option>
                </select>
              </div>
              <div class="task-selection">
                <label for="taskSelect">Analysis Task:</label>
                <select id="taskSelect">
                  <option value="analysis">General Analysis</option>
                  <option value="fact_check">Fact Checking</option>
                  <option value="summarize">Summarization</option>
                </select>
              </div>
            </div>
            <div class="multi-ai-hint">Compare results from multiple AI providers with intelligent routing</div>
          </div>
          <div class="hero-controls">
            <div class="examples" aria-hidden="true">Examples:
              <button class="analyze-btn small" onclick="fillExample('Breaking: Scientists confirm chocolate cures aging ‚Äî doctors shocked!')">Clickbait</button>
              <button class="analyze-btn small" onclick="fillExample('Local council approves new community park after months of consultation.')">Trusted</button>
              <button class="analyze-btn small" onclick="fillExample('Study shows correlation between screen time and sleep quality in teenagers.')">Study</button>
            </div>
            <div class="analyze-row">
              <div class="analyze-toggle" aria-hidden="false">
                <label for="modeSelect" class="hidden">Analysis mode</label>
                <select id="modeSelect" aria-label="Analysis mode">
                  <option value="auto">Auto (local ‚Üí provider ‚Üí heuristic)</option>
                  <option value="local">Local model</option>
                  <option value="provider">External provider</option>
                  <option value="heuristic">Heuristic</option>
                </select>
              </div>
              <button id="analyzeBtn" class="analyze-btn primary" aria-live="polite" aria-busy="false">üöÄ Analyze</button>
            </div>
          </div>
        </div>
      </div>
    </section>

  <div id="resultsSection" class="hidden" role="region" aria-live="polite" tabindex="-1">
    <div class="results-container">
      <!-- Results Header -->
      <div class="results-header">
        <h2 class="results-title">Analysis Results</h2>
        <div class="analysis-status" id="analysisStatus">Content analysis complete</div>
      </div>

      <!-- Truth vs Fake Section -->
      <div class="truth-fake-section">
        <div class="truth-fake-header">
          <h3 class="truth-fake-title">üìä Authenticity Assessment</h3>
        </div>
        
        <div class="truth-fake-grid">
          <div class="truth-card">
            <div class="truth-percentage" id="truthPercentage">0%</div>
            <div class="truth-label">Authentic</div>
          </div>
          <div class="fake-card">
            <div class="fake-percentage" id="fakePercentage">0%</div>
            <div class="fake-label">Suspicious</div>
          </div>
        </div>
        
        <div class="overall-verdict" id="overallVerdict">
          <div id="credibilityStatus" class="credibility-status status-medium">Analyzing...</div>
        </div>
      </div>

      <!-- Full Truth Section -->
      <div class="full-truth-section">
        <div class="full-truth-header">
          <span class="full-truth-icon">üí°</span>
          <h3 class="full-truth-title">The Real Truth</h3>
        </div>
        
        <div class="truth-content">
          <ul class="truth-facts" id="truthFacts">
            <li>Analysis in progress...</li>
          </ul>
          <div class="no-truth-available hidden" id="noTruthAvailable">
            No additional truth information available for this content.
          </div>
        </div>
      </div>

      <!-- Real News Section -->
      <div class="real-news-section" id="realNewsSection">
        <div class="real-news-header">
          <span class="real-news-icon">üì∞</span>
          <h3 class="real-news-title">Current Real News & Context</h3>
          <button id="fetchNewsBtn" class="analyze-btn small">üîÑ Get Latest News</button>
        </div>
        
        <div class="real-news-content">
          <div class="news-summary" id="newsSummary">
            <div class="summary-text" id="summaryText">Gathering latest news context...</div>
          </div>
          
          <div class="related-news" id="relatedNews">
            <h4 class="related-news-title">üìà Related Current News</h4>
            <div class="news-list" id="newsList">
              <div class="news-item loading">Loading related news...</div>
            </div>
          </div>
          
          <div class="trending-topics" id="trendingTopics">
            <h4 class="trending-title">üî• Trending Topics</h4>
            <div class="trending-list" id="trendingList">
              <span class="trending-tag loading">Loading...</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Analysis Details Grid -->
      <div class="analysis-details-grid">
        <!-- AI Detection Card -->
        <div class="detail-card" id="aiDetectionCard">
          <div class="detail-card-header">
            <span class="detail-card-icon">ü§ñ</span>
            <h4 class="detail-card-title">AI Detection</h4>
          </div>
          <div class="detail-card-content">
            <div class="ai-probability">
              <strong>AI Probability:</strong> <span id="aiProbabilityText">0%</span>
            </div>
            <div class="ai-confidence">
              <strong>Confidence:</strong> <span id="aiConfidenceText">0%</span>
            </div>
            <div class="ai-explanation" id="aiExplanationText">
              Analyzing content for AI generation indicators...
            </div>
          </div>
        </div>

        <!-- Sentiment Analysis Card -->
        <div class="detail-card" id="sentimentCard">
          <div class="detail-card-header">
            <span class="detail-card-icon">üòä</span>
            <h4 class="detail-card-title">Sentiment Analysis</h4>
          </div>
          <div class="detail-card-content">
            <div class="sentiment-breakdown">
              <div class="sentiment-item">
                <span>Positive:</span> <span id="positivePercentage">0%</span>
              </div>
              <div class="sentiment-item">
                <span>Neutral:</span> <span id="neutralPercentage">0%</span>
              </div>
              <div class="sentiment-item">
                <span>Negative:</span> <span id="negativePercentage">0%</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Source Analysis Card -->
        <div class="detail-card" id="sourceCard">
          <div class="detail-card-header">
            <span class="detail-card-icon">üîç</span>
            <h4 class="detail-card-title">Analysis Details</h4>
          </div>
          <div class="detail-card-content">
            <div class="analysis-method">
              <strong>Method Used:</strong> <span id="usedMethod">auto</span>
            </div>
            <div class="detection-methods">
              <strong>Detection Methods:</strong> <span id="detectionMethodsList">Standard analysis</span>
            </div>
            <div class="analysis-time">
              <strong>Analysis Time:</strong> <span id="analysisTime">Just now</span>
            </div>
          </div>
        </div>

        <!-- Key Insights Card -->
        <div class="detail-card" id="insightsCard">
          <div class="detail-card-header">
            <span class="detail-card-icon">üí≠</span>
            <h4 class="detail-card-title">Key Insights</h4>
          </div>
          <div class="detail-card-content">
            <div class="insights-list" id="keyInsightsList">
              <div class="insight-item">Analysis in progress...</div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Legacy sections for backward compatibility -->
    <div class="hidden">
      <!-- Keep original elements for JS compatibility -->
            <div class="ai-detail-title">Detection Methods</div>
            <div id="detectionMethods" class="detection-methods"></div>
          </div>
          <div class="ai-detail-card">
            <div class="ai-detail-title">Confidence</div>
            <div id="aiConfidence" class="ai-metric">0%</div>
          </div>
          <div class="ai-detail-card">
            <div class="ai-detail-title">Watermark</div>
            <div id="watermarkStatus" class="watermark-status not-detected">Not detected</div>
          </div>
          <div class="ai-detail-card">
            <div class="ai-detail-title">Perplexity</div>
            <div id="perplexityScore" class="ai-metric">0</div>
          </div>
          <div class="ai-detail-card">
            <div class="ai-detail-title">Reward Score</div>
            <div id="rewardScore" class="ai-metric">0</div>
          </div>
        </div>
        
        <div class="ai-explanation">
          <div class="ai-explanation-title">Analysis Explanation</div>
          <div id="aiExplanation" class="ai-explanation-text">Analyzing content...</div>
        </div>
      </div>

      <!-- Factors Grid -->
      <div class="factors-grid">
        <div class="factor-card">
          <div class="factor-header">
            <div class="factor-title">Source Credibility</div>
          </div>
          <div class="factor-score" id="factor1Score">0</div>
          <div class="progress-bar"><div class="progress-fill" id="factor1Bar" style="width:0%"></div></div>
        </div>

        <div class="factor-card">
          <div class="factor-header"><div class="factor-title">Fact Verification</div></div>
          <div class="factor-score" id="factor2Score">0</div>
          <div class="progress-bar"><div class="progress-fill" id="factor2Bar" style="width:0%"></div></div>
        </div>

        <div class="factor-card">
          <div class="factor-header"><div class="factor-title">Bias Detection</div></div>
          <div class="factor-score" id="factor3Score">0</div>
          <div class="progress-bar"><div class="progress-fill" id="factor3Bar" style="width:0%"></div></div>
        </div>

        <div class="factor-card">
          <div class="factor-header"><div class="factor-title">Clickbait Analysis</div></div>
          <div class="factor-score" id="factor4Score">0</div>
          <div class="progress-bar"><div class="progress-fill" id="factor4Bar" style="width:0%"></div></div>
        </div>

        <div class="factor-card">
          <div class="factor-header"><div class="factor-title">Sentiment Balance</div></div>
          <div class="factor-score" id="factor5Score">0</div>
          <div class="progress-bar"><div class="progress-fill" id="factor5Bar" style="width:0%"></div></div>
        </div>
      </div>

      <!-- Sentiment Chart -->
      <div class="chart-container">
        <h2 class="chart-title">üìä Sentiment Analysis</h2>
        <div class="sentiment-bars">
          <div class="sentiment-bar">
            <div class="sentiment-label">Positive</div>
            <div class="bar-wrapper"><div class="bar-fill bar-positive" id="positiveBar" style="width:0%">0%</div></div>
          </div>
          <div class="sentiment-bar">
            <div class="sentiment-label">Neutral</div>
            <div class="bar-wrapper"><div class="bar-fill bar-neutral" id="neutralBar" style="width:0%">0%</div></div>
          </div>
          <div class="sentiment-bar">
            <div class="sentiment-label">Negative</div>
            <div class="bar-wrapper"><div class="bar-fill bar-negative" id="negativeBar" style="width:0%">0%</div></div>
          </div>
        </div>
      </div>

      <!-- Fact-Check Results -->
      <div id="factCheckResults" class="fact-check-results hidden">
        <h2>üîç Comprehensive Fact-Check Analysis</h2>
        
        <div class="fact-check-grid">
          <div class="fact-card">
            <h3>üéØ Overall Assessment</h3>
            <div id="factCheckOverall" class="fact-result">
              <div class="fact-score">
                <span id="factCheckScore">-</span>
                <div class="fact-score-label">Accuracy Score</div>
              </div>
              <div id="factCheckStatus" class="fact-status">Analyzing...</div>
            </div>
          </div>
          
          <div class="fact-card">
            <h3>‚úÖ Verified Claims</h3>
            <div id="verifiedClaims" class="claims-list">
              <div class="claim-item">No verified claims yet</div>
            </div>
          </div>
          
          <div class="fact-card">
            <h3>‚ùå Disputed Claims</h3>
            <div id="disputedClaims" class="claims-list">
              <div class="claim-item">No disputed claims yet</div>
            </div>
          </div>
          
          <div class="fact-card">
            <h3>üìö Real Facts</h3>
            <div id="realFacts" class="facts-list">
              <div class="fact-item">No fact corrections available</div>
            </div>
          </div>
        </div>
        
        <div class="provider-info">
          <span>Analysis provided by: <span id="factCheckProvider">-</span></span>
        </div>
      </div>

      <!-- Multi-AI Results -->
      <div id="multiAiResults" class="multi-ai-results hidden">
        <h2>ü§ñ Multi-AI Analysis Results</h2>
        
        <div class="ai-comparison-grid">
          <div class="ai-result-card primary">
            <h3>üéØ Primary Analysis</h3>
            <div id="primaryAiResult">
              <div class="ai-provider">Provider: <span id="primaryProvider">-</span></div>
              <div id="primaryAnalysis" class="ai-analysis">Analyzing...</div>
            </div>
          </div>
          
          <div class="ai-result-card comparison">
            <h3>üìä Local Comparison</h3>
            <div id="localComparison">
              <div id="localResult" class="ai-analysis">Analyzing...</div>
            </div>
          </div>
        </div>
        
        <div class="ai-insights">
          <h3>üí° Key Insights</h3>
          <div id="aiInsights" class="insights-list">
            <div class="insight-item">Analysis in progress...</div>
          </div>
        </div>
      </div>

      <!-- Word Cloud -->
      <div class="wordcloud-container">
        <h2 style="margin-bottom:20px;color:#333;">üîé Key Phrases</h2>
        <div id="wordcloud" class="wordcloud"></div>
      </div>

      <!-- History (client-side) -->
      <div class="history-panel" id="historyPanel">
        <div class="history-header">
          <h3 style="margin:0;">Analysis History</h3>
          <div>
            <button id="clearHistoryBtn" class="analyze-btn small">Clear</button>
          </div>
        </div>
        <div id="historyList" class="history-list">No history yet</div>
      </div>

      <!-- Metrics panel -->
      <div class="metrics-panel" id="metricsPanel">
        <h3 style="margin:0 0 8px 0;">System Metrics</h3>
        <div id="metricsList">Loading metrics...</div>
      </div>

      <!-- Sources (flip cards demo) -->
      <div class="sources-grid" id="sourcesGrid">
        <div class="flip-card" onclick="this.classList.toggle('flipped')">
          <div class="flip-card-inner">
            <div class="flip-card-front"><div class="source-name">example.com</div><div class="source-credibility">80</div><div class="source-details">Trusted news site</div></div>
            <div class="flip-card-back"><div class="source-detail-item"><div class="detail-label">Notes</div><div>Established publisher with editorial standards.</div></div></div>
          </div>
        </div>
        <div class="flip-card" onclick="this.classList.toggle('flipped')">
          <div class="flip-card-inner">
            <div class="flip-card-front"><div class="source-name">unreliable.example</div><div class="source-credibility">25</div><div class="source-details">Questionable source</div></div>
            <div class="flip-card-back"><div class="source-detail-item"><div class="detail-label">Notes</div><div>Known for sensational headlines and weak sourcing.</div></div></div>
          </div>
        </div>
        <div class="flip-card" onclick="this.classList.toggle('flipped')">
          <div class="flip-card-inner">
            <div class="flip-card-front"><div class="source-name">factcheck.example</div><div class="source-credibility">92</div><div class="source-details">Fact-checker</div></div>
            <div class="flip-card-back"><div class="source-detail-item"><div class="detail-label">Notes</div><div>Reliable fact-checking organization.</div></div></div>
          </div>
        </div>
      </div>
    </div>

    <div id="error" class="hidden" style="color: #fff; text-align:center;"></div>
  </div>

  <!-- Onboarding modal -->
  <div id="onboardModal" role="dialog" aria-modal="true" aria-labelledby="onboardTitle" class="hidden" style="position:fixed; inset:0; display:flex; align-items:center; justify-content:center; background:rgba(11,18,32,0.6); z-index:1200;">
    <div id="onboardDialog" tabindex="-1" style="background:white; border-radius:14px; padding:26px; max-width:720px; width:94%; box-shadow:0 30px 80px rgba(0,0,0,0.4);">
      <h3 id="onboardTitle" style="margin-bottom:12px;">Welcome to Filterize üéâ</h3>
      <p style="margin-bottom:18px; color:#444;">Filterize helps you quickly check whether a piece of content is likely credible. Try a sample, paste an article, or use the Quick tour. Results show a Credibility score, why elements matter, and key phrases.</p>
      <div style="display:flex; gap:10px; justify-content:flex-end; align-items:center;">
  <label style="display:flex; gap:8px; align-items:center; font-size:13px; color:#666;"><input id="dontShowOnboard" type="checkbox"> Don't show again</label>
        <button id="onboardTry" class="analyze-btn" style="padding:10px 16px;">Try sample</button>
        <button id="onboardClose" class="analyze-btn" style="padding:10px 16px; background:linear-gradient(90deg,#ffb86b,#ff6b6b);">Close</button>
      </div>
    </div>
  </div>

  <!-- Toast notifications -->
  <div id="toast" aria-live="polite" style="position:fixed; right:20px; bottom:20px; z-index:1300;"></div>

  <script src="app.js" defer></script>
</body>
</html>